# üîí –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ MongoDB

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–í –∫–æ–¥—ñ –±—É–ª–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–æ MongoDB URI –∑ –ø–∞—Ä–æ–ª–µ–º —É –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö:
- `lib/mongodb.ts`
- `pages/api/admin/*.ts` (9 —Ñ–∞–π–ª—ñ–≤)
- `pages/api/properties/[id]/view.ts`
- `scripts/import-properties.js`
- `README.md`
- `TELEGRAM_AUTH_DEBUG.md`

**–ù–∞—Å–ª—ñ–¥–∫–∏:**
- –ü–∞—Ä–æ–ª—å –≤—ñ–¥ MongoDB –±—É–≤ –ø—É–±–ª—ñ—á–Ω–∏–º –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- –í–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω—å –¥–æ MongoDB
- –ü–æ—Ä—É—à–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ –¥–∞–Ω–∏—Ö

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –í–∏–¥–∞–ª–µ–Ω–æ –≤—Å—ñ –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω—ñ –ø–∞—Ä–æ–ª—ñ
–í—Å—ñ —Ñ–∞–π–ª–∏ —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `process.env.MONGODB_URI`

### 2. –°—Ç–≤–æ—Ä–µ–Ω–æ .env.example
–®–∞–±–ª–æ–Ω –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤

### 3. –û–Ω–æ–≤–ª–µ–Ω–æ .gitignore
–î–æ–¥–∞–Ω–æ:
```
.env
.env*.local
.env.local
```

### 4. –û–Ω–æ–≤–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
- README.md - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –±–µ–∑ –ø–∞—Ä–æ–ª—ñ–≤
- TELEGRAM_AUTH_DEBUG.md - –ø—Ä–∏–∫–ª–∞–¥–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö

## üöÄ –©–æ —Ä–æ–±–∏—Ç–∏ –¥–∞–ª—ñ

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å .env.local —Ñ–∞–π–ª

```bash
cp .env.example .env.local
```

### –ö—Ä–æ–∫ 2: –î–æ–¥–∞–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω–∏–π MongoDB URI

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `.env.local` —ñ –¥–æ–¥–∞–π—Ç–µ:

```env
MONGODB_URI=mongodb+srv://your_username:your_password@cluster0.gitezea.mongodb.net/
MONGODB_DB=kovcheg_db
```

### –ö—Ä–æ–∫ 3: ‚ö†Ô∏è –ó–ú–Ü–ù–Ü–¢–¨ –ü–ê–†–û–õ–¨ MongoDB

**–í–ê–ñ–õ–ò–í–û:** –û—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞—Ä–∏–π –ø–∞—Ä–æ–ª—å –±—É–≤ –ø—É–±–ª—ñ—á–Ω–∏–º, –ø–æ—Ç—Ä—ñ–±–Ω–æ:

1. –ó–∞–π–¥—ñ—Ç—å –≤ MongoDB Atlas
2. Database Access ‚Üí Edit User
3. –ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ `yuramartin1993`
4. –û–Ω–æ–≤—ñ—Ç—å `.env.local` –∑ –Ω–æ–≤–∏–º –ø–∞—Ä–æ–ª–µ–º

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Vercel

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Vercel:

1. https://vercel.com/dashboard ‚Üí Settings ‚Üí Environment Variables
2. –î–æ–¥–∞–π—Ç–µ `MONGODB_URI` –∑ –ù–û–í–ò–ú –ø–∞—Ä–æ–ª–µ–º
3. Redeploy –ø—Ä–æ–µ–∫—Ç

### –ö—Ä–æ–∫ 5: –ó–∞–∫—Ä–∏–π—Ç–µ —Å—Ç–∞—Ä—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

–í MongoDB Atlas:
1. Network Access ‚Üí IP Access List
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ IP
3. –ü—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ –æ–Ω–æ–≤—ñ—Ç—å —Å–ø–∏—Å–æ–∫

### –ö—Ä–æ–∫ 6: –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ –∑–º—ñ–Ω–∏

```bash
git add .
git commit -m "üîí Security fix: Remove hardcoded MongoDB credentials"
git push
```

**–ù–ï –ó–ê–ë–£–î–¨–¢–ï:** `.env.local` –Ω–µ –±—É–¥–µ –≤ Git (–≤—ñ–Ω –≤ .gitignore)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å

- ‚úÖ 13 —Ñ–∞–π–ª—ñ–≤ –æ–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ 0 –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ –∑–∞–ª–∏—à–∏–ª–æ—Å—å
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ .env.example
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ .gitignore
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

## üõ°Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –Ω–∞ –º–∞–π–±—É—Ç–Ω—î

1. **–ù—ñ–∫–æ–ª–∏** –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ —Ñ–∞–π–ª–∏ –∑ –ø–∞—Ä–æ–ª—è–º–∏
2. **–ó–∞–≤–∂–¥–∏** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ** –∑–º—ñ–Ω—é–π—Ç–µ –ø–∞—Ä–æ–ª—ñ
4. **–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ** Git —ñ—Å—Ç–æ—Ä—ñ—é –ø–µ—Ä–µ–¥ push
5. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ** `.env.example` –¥–ª—è —à–∞–±–ª–æ–Ω—ñ–≤

---

–°—Ç–≤–æ—Ä–µ–Ω–æ: $(date)
